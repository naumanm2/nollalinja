---
import { type CollectionEntry } from "astro:content";

import { Image } from "astro:assets";
import { Vimeo } from "@astro-community/astro-embed-vimeo";

import outshine from "../assets/img/outshine.png";
import nollalinja from "../assets/img/nollalinja.png";
import thl from "../assets/img/thl.png";
import viaplay from "../assets/img/viaplay.png";

import Timer from "../components/Timer.astro";
import VideoComponent from "../components/VideoComponent.astro";
import Loading from "../components/Loading.astro";

import "../main.css";

interface Props {
  content: CollectionEntry<"main">;
  title: String;
}
const { content, title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>

  <body class="bg-[#0c0c0c]">
    <nav class="">
      <div
        class="flex justify-end p-2 sm:p-6 md:p-9 lg:p-12 fixed z-[1000] w-full"
      >
        {
          content.slug == "trailer_fi" ? (
            <a href="/">
              <div class="flex items-center px-4 py-2 text-xs font-display uppercase text-white line-clamp-none md:text-lg">
                in english
              </div>
            </a>
          ) : (
            <a href="/fi">
              <div class="flex items-center px-4 py-2 text-xs font-display uppercase text-white line-clamp-none md:text-lg">
                suomeksi
              </div>
            </a>
          )
        }
      </div>
    </nav>
    <Loading />
    <div
      class="h-[85vh] bg-cover bg-center bg-norepeat text-center flex flex-row justify-center py-16"
    >
      <VideoComponent />

      <div
        class="w-full max-w-screen-2xl flex flex-col justify-between h-full font-display"
      >
        <div class=""></div>
        <div class="">
          <div
            class="text-[max(2vw, 16px)] text-ivory drop-shadow-lg uppercase font-display leading-none tracking-widest"
          >
            {content.data.s1heading}
          </div>
          <div
            class="text-[min(24vw,320px)] text-ivory uppercase font-condensed tracking-tighter leading-none flex flex-row justify-center drop-shadow-lg"
          >
            {content.data.s1display}
          </div>
          <div
            class="text-[max(2vw,16px)] tracking-wide uppercase text-ivory font-display drop-shadow-xl px-3"
          >
            {content.data.s1subtitle}
          </div>
        </div>

        <div class="w-full">
          {
            content.slug == "trailer_en" ? (
              <Timer
                days={"days"}
                hours={"hours"}
                minutes={"minutes"}
                seconds={"seconds"}
              />
            ) : (
              <Timer
                days={"päivää"}
                hours={"tuntia"}
                minutes={"minuuttia"}
                seconds={"sekuntia"}
              />
            )
          }
        </div>
      </div>
    </div>
    <div class="p-4 py-12 md:py-32 flex flex-row justify-center">
      <div class="max-w-[1536px]">
        <div
          class="text-[max(5vw,40px)] text-white font-condensed uppercase leading-[1.13]"
        >
          {content.data.s3heading}
        </div>
        <div
          class="text-[max(2vw,20px)] text-white font-condensed uppercase leading-[1.13] pt-4 md:pt-8 max-w-screen-lg"
        >
          {content.data.s3body1}
        </div>
        <div
          class="text-[max(1.3vw,16px)] font-sans text-white leading-tight pt-4 md:pt-8 max-w-screen-lg"
        >
          {content.data.s3body2}
        </div>
      </div>
    </div>
    <div class="w-full p-4">
      <Vimeo id="https://vimeo.com/1024212175/" />
    </div>
    <footer class="p-12 pb-16 md:py-32 flex justify-center">
      <div
        class="max-w-[1536px] flex flex-col md:flex-row justify-center items-center gap-12"
      >
        <div class="max-w-32 flex items-center">
          <Image src={viaplay} alt="logo of viaplay" />
        </div>
        <div class="max-w-32 flex items-center">
          <Image src={outshine} alt="logo of outshine" />
        </div>
      </div>
    </footer>
  </body>
</html>
